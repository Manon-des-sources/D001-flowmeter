多个流量计协议：
使用继承的方式写共性
使用多态的方式写个性
通过串口增加流量计地址和协议等信息、把指令系统移植进去

PIC允许中断嵌套、自己实现下面的中断优先级：
1个低优先级：用于运行定时任务的定时器中断里面进入后开启中断
其他都是高优先级：用于计时的定时中断、串口中断、外部中断等进入中断后不开启中断

用平铺直叙来写modbus状态图
第一层：协议帧检查
第二层：由功能码引向不同的操作区域
区域层：指令有效性判断(功能码检查、寄存器地址/数量范围检查)、执行结果

软件时钟队列
需要使用的用户去申请一个时钟、并设定计数
时钟管理会给出一个时钟序号、在用户计时到的时刻会给出一个标识
用户根据这个序号去检查自己的定时时间标识是否到了

模拟流量计：
-正好使用标准的modbus从机协议
1、收到数据后给出回复
2、可以给出硬件：
支持usb转485模块
支持各厂家协议
所有流量数据的整数每1s加一个随机数
温度和压力的小数点加一个随机数


================================
task：
上告、

================================
API：
打印、显示、

================================
定时中断任务：
GPRS数据分析、IR数据分析、阀门处理、

================================
异步中断接收：
串口、

================================
事件队列像神经连接着所有模块(除了中断和API)

*/